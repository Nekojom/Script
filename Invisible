local ReplicatedStorage = game:GetService("ReplicatedStorage")
local UserInputService = game:GetService("UserInputService")
local Players = game:GetService("Players")
local player = Players.LocalPlayer

local event = ReplicatedStorage:WaitForChild("ToggleInvisibilityEvent")

local invisible = false

local function toggle()
    invisible = not invisible
    event:FireServer(invisible)
    if invisible then
        print("✅ คุณหายตัวแล้ว (คนอื่นก็มองไม่เห็น)")
    else
        print("❌ กลับมาแล้ว (มองเห็นปกติ)")
    end
end

-- กด H เพื่อหายตัว
UserInputService.InputBegan:Connect(function(input, gp)
    if gp then return end
    if input.KeyCode == Enum.KeyCode.H then
        toggle()
    end
end)

-- หรือใช้ /invis ในแชท
player.Chatted:Connect(function(msg)
    local m = msg:lower()
    if m == "/invis" or m == "!invis" then
        toggle()
    end
end)
